<ion-view view-title="Tour">
    <ion-content>
        <div class="display-card">
            
            
            <marker-map map-markers="markers" map-info="mapInfo">
          </marker-map>
            
<!--            A row that shows the user's current position in the tour-->
            <div ng-if="tour.landmarks[currentLandmark]&&!loadingMsg">
                
                    <div class="list-item-div clearfix" ng-click="upNextClicked()" style="padding-top:5px">
                        <img class="pin-image" src="img/green-pin.png" align="right"
                             ng-click="focus($event,currentLandmark)">
                        <div class="list-item-title">
                            {{tour.landmarks[currentLandmark].name}}
                        </div>
                        <div class="list-item-subtitle">
                            {{tour.landmarks[currentLandmark].subtitle}}
                        </div>
                    </div>
                    <div class="list-item-div up-next-button-row" style="text-align:center;">
                        <span style="float:left" ng-click="toPrev()">
                            <i class="ion-chevron-left"></i>
                            Back
                        </span>
                        <span style="float:right" ng-click="toNext()">
                            Next
                            <i class="ion-chevron-right"> </i>
                        </span>

                    </div>
            </div>
            
            <h3 class="title">{{tour.name}}</h3>
            <p>{{tour.description}}</p>
            <div class="list">
                
                <list-loader loading-msg="loadingMsg" error-msg="errorMsg" refresh="refresh"></list-loader>
                
                <div class="list-item-div" ng-if="!loadingMsg" ng-repeat="landmark in tour.landmarks"
                  ng-click="go(landmark)">
                    <div class="list-item-title">
                        {{$index + 1}}. {{landmark.name}}
                    </div>
                    <div class="list-item-subtitle">
                        {{landmark.description}}
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>
