<ion-view view-title="Stories" >


    <ion-content>
        <div class="display-card">
            <marker-map map-handle="mapHandle" center="mapInfo.center" zoom="mapInfo.zoom">
                <marker id='{{story.id}}' position="{{story.location}}" ng-repeat="story in stories" ng-if="showStory(story)" on-click="markerClicked(story, id)" clickable="true"> </marker>
                <user-location-marker></user-location-marker>
                <info-window id="infoWindow">
                    <simple-info-window story="clickedStory">
                    </simple-info-window>
                </info-window>
                
          </marker-map>
        </div>
        <div class="display-card edge-to-edge">
            
            <div class="item item-input filter-bar">
                <input type="search" placeholder="Filter by title..." ng-model="filter.text"
                       ng-change="filterUpdated()">
                <i class="icon ion-close filter-icon" ng-class="filter.text?'':'placeholder-icon'"
                   ng-click="filter.text=''"></i>
            </div>
            
                <a href="{{'#/app/story/'+story.id}}" ng-repeat="story in stories" ng-if="showStory(story)">
            <div class="story-listing" >
                  <img ng-src="{{story.images[0]}}" width="100px"
                     style="display:inline-block; vertical-align:middle">
                  <span style="display:inline-block; vertical-align:middle">
                    {{story.name}}
                  </span>
            </div>
                </a>
        </div>
        
        
        
    </ion-content>
    
</ion-view>
